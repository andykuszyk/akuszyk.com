<!doctype html>
<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164357380-1"></script>
        <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'UA-164357380-1');
        </script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">        
        <title>A. Kuszyk | The Kingdom Of Tharg - The Dark Mirror (2/8)</title>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <style>
            ul.timeline {
                list-style-type: none;
                position: relative;
            }
            ul.timeline:before {
                content: ' ';
                background: #d4d9df;
                display: inline-block;
                position: absolute;
                left: 29px;
                width: 2px;
                height: 100%;
                z-index: 400;
            }
            ul.timeline > li {
                margin: 20px 0;
                padding-left: 20px;
            }
            ul.timeline > li:before {
                content: ' ';
                background: white;
                display: inline-block;
                position: absolute;
                border-radius: 50%;
                border: 3px solid #22c0e8;
                left: 20px;
                width: 20px;
                height: 20px;
                z-index: 400;
            }
        </style>
    </head>
    <body>
    <div class="container">
        <div class="row">
            <div class="col-lg">
                <h1>The Kingdom Of Tharg</h1>
<h2>The Dark Mirror</h2>
<h3>Part 2/8

            <hr>
            </div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-lg">
                <p>A shuffling noise from behind him made him realise that he wasn't alone in his cell. He looked around sharply and noticed for the first time a small man seated on the floor, leaning against the wall. If Calir had seen him during his survey of the room, he could have been forgiven for taking him as a small bundle of rags. He was dressed in a loose robe of dirty brown fabric, with its hood over his face and his legs and arms tucked into its folds. The robe looked far too big for him, but perhaps his incarceration had shrunk his body within the confines of the garb. All of these thoughts flashed through Calir's mind in an instant as he reflected that this forlorn figure would be Calir's fate if he couldn't find a way out of this room.</p>
<p>"Where the devil is this place? Am I dead?"</p>
<p>Calir's voice broke as he asked this? He had tried to sound friendly, but his heart was filled with despair. The man looked up at Calir's words, making his face visible from beneath the hood. He had a dark complexion, with long black hair framing a sunken, sallow face. He responded to Calir's question with muted silence and an impassive stare.</p>
<p>"Iâ€“I was with my brother, you see. He's back...up there", he pointed to the ceiling. "Do you know where we are? How we can get out?"</p>
<p>The figure remained mute.</p>
<p>"There's no doors, no entrance or exit. How did I get here? How do they feed us? They do feed us don't they? Its like we're sealed in some kind of morbid burial chamber."</p>
<p>Before he knew it, this torrent of questions had tumbled out of him like a river bursting its banks. He paused to consider the questions he'd asked. But, before he'd had a chance, the man offered some answers of his own.</p>
<p>"This," he began, his voice low and hoarse, "is the Dark Mirror. The centre of its evil magic. The source of Tharg's great power. A burial chamber?"</p>
<p>He laughed a cracked and crooked laugh to himself.</p>
<p>"No, it is the bringer of life to those who are cast here. It is the outside world that is buried, not us. We are set free in this place!"</p>

                <hr>
                <p style="text-align:center">
                    | <a href="the-dark-mirror-1.html">1</a> | 2 | <a href="the-dark-mirror-3.html">3</a> | <a href="the-dark-mirror-4.html">4</a> | <a href="the-dark-mirror-5.html">5</a> | <a href="the-dark-mirror-6.html">6</a> | <a href="the-dark-mirror-7.html">7</a> | <a href="the-dark-mirror-8.html">8</a> |
                    <br>
                    <a href="/the-kingdom-of-tharg/a-lost-joyrney-home-1.html">Previous Chapter</a> | <a href="/the-kingdom-of-tharg/finding-home-1.html">Next Chapter</a>    
                </p>
            </div>
        </div>
        <div id="app" class="row">
            <div class="col-md-6 offset-md-3">
                <h4>Comments</h4>
                <ul class="timeline">
                    <li>
                        <form>
                            <div class="form-group">
                                <label for="commentInput">All comments are welcome, especially constructive ones!</label>
                                <textarea v-model="newComment" class="form-control" id="commentInput" rows="3"></textarea>
                                <button type="button" class="btn btn-primary" v-on:click="submitComment">Submit</button>
                            </div>
                        </form>
                    </li>
                    <li v-for="comment in comments">
                        <p><b>{{ comment.createdAt }}</b></p>
                        <p>{{ comment.body }}</p>
                    </li>
                </ul>
            </div>
        </div>
        <script>
        loadComments = function() {
            $.get('/topics/16275216/comments', function(data) {
                console.log(typeof(data))
                comments = []
                for(d of data) {
                    createdAt = new Date(d.CreatedAt)
                    comments.push({createdAt: `${createdAt.toLocaleString()}`, body: d.Body})
                }
                app.$data.comments = comments
            })
        }

        var app = new Vue({
            el: '#app',
            data: {
                newComment: '',
                comments: []
            },
            methods: {
                submitComment: function() {
                console.log(app.newComment)
                $.post(
                    {
                        url: '/topics/16275216/comments',
                        data: JSON.stringify({Body: app.newComment}), 
                        contentType: 'application/json'
                    }, 
                    function() {
                        loadComments()
                        app.newComment = ''
                    })
                }
            }
        })

        loadComments() 
        </script>
    </div>
    </body>
</html>
