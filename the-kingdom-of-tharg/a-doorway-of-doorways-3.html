<!doctype html>
<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164357380-1"></script>
        <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'UA-164357380-1');
        </script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">        
        <title>A. Kuszyk | The Kingdom Of Tharg - A Doorway of Doorways (3/6)</title>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <style>
            ul.timeline {
                list-style-type: none;
                position: relative;
            }
            ul.timeline:before {
                content: ' ';
                background: #d4d9df;
                display: inline-block;
                position: absolute;
                left: 29px;
                width: 2px;
                height: 100%;
                z-index: 400;
            }
            ul.timeline > li {
                margin: 20px 0;
                padding-left: 20px;
            }
            ul.timeline > li:before {
                content: ' ';
                background: white;
                display: inline-block;
                position: absolute;
                border-radius: 50%;
                border: 3px solid #22c0e8;
                left: 20px;
                width: 20px;
                height: 20px;
                z-index: 400;
            }
        </style>
    </head>
    <body>
    <div class="container">
        <div class="row">
            <div class="col-lg">
                <h1>The Kingdom Of Tharg</h1>
<h2>A Doorway of Doorways</h2>
<h3>Part 3/6

            <hr>
            </div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-lg">
                <p>"What the devil!", he exclaimed.</p>
<p>"How–how did you get in here?"</p>
<p>The goat looked up at the noise with an ambivalent and calm look on its face. It was clear that he was more frightened of the goat than the goat was of him. Before the goat had a chance to answer, however, something caught Calir's eye. In the doorway behind the goat, a figure seemed to be approaching the wall. It looked to be that of a young man and it was calling someone's name. Whoever he was, he was getting closer and closer to the doorway, until he seemed to be standing right outside the room. And then, with a small pop which made Calir jump out of his skin, the young man stepped through–out of the blue haze and in to the dull light of the low room.</p>
<p>Having stepped through from the prairie he had been strolling through into this dark, low chamber, the first thing he did was to raise his hand as if he was about to call out again and then stop. Confusion and fear crossed his face and he lowered his hand again. Then he caught sight of the goat.</p>
<p>"Millie!" he called and crossed over to the goat in two or three strides. Bending down onto one knee, he cradled his charge and then took stock of his surroundings.</p>
<p>The first thing he noticed, was the imposing figure in front of him, standing in front of an enormous stone throne. He was easily six feet tall and was a muscular and dangerous looking man. He was dressed in rags about his shoulders and waist, exposing his pale–almost translucent–blue skin stretched over thick muscles and powerful joints. He had a shaggy mane of albino hair and a short, unkempt beard. His eyes were wide, with rims of white surrounding pale, pink irises. His lips were red. More than his sudden dislocation from his fields to this strange room, the sight of this man put the fear of death into the young man and he cowered before him.</p>
<p>"Who–who the devil are you?" came the deep voice of the man in-front of the throne.</p>
<p>"I'm just, just, silly old me, I'm just Capra, humble shepherd and simple farmer, my Lord, I'm terribly sorry for interrupting your peace, your majesty, terribly sorry, terribly sorry!"</p>
<p>All these words tumbled out of him so fast that Calir could barely understand a word he said.</p>
<p>"Its alright, calm down my good man, calm down. Tell me where you're from- friend Capra."</p>

                <hr>
                <p style="text-align:center">
                    | <a href="a-doorway-of-doorways-1.html">1</a> | <a href="a-doorway-of-doorways-2.html">2</a> | 3 | <a href="a-doorway-of-doorways-4.html">4</a> | <a href="a-doorway-of-doorways-5.html">5</a> | <a href="a-doorway-of-doorways-6.html">6</a> |
                    <br>
                    <a href="/the-kingdom-of-tharg/the-call-of-the-mirror-1.html">Previous Chapter</a> | <a href="/the-kingdom-of-tharg/the-kingdom-of-tharg-1.html">Next Chapter</a>    
                </p>
            </div>
        </div>
        <div id="app" class="row">
            <div class="col-md-6 offset-md-3">
                <h4>Comments</h4>
                <ul class="timeline">
                    <li>
                        <form>
                            <div class="form-group">
                                <label for="commentInput">All comments are welcome, especially constructive ones!</label>
                                <textarea v-model="newComment" class="form-control" id="commentInput" rows="3"></textarea>
                                <button type="button" class="btn btn-primary" v-on:click="submitComment">Submit</button>
                            </div>
                        </form>
                    </li>
                    <li v-for="comment in comments">
                        <p><b>{{ comment.createdAt }}</b></p>
                        <p>{{ comment.body }}</p>
                    </li>
                </ul>
            </div>
        </div>
        <script>
        loadComments = function() {
            $.get('/topics/16275216/comments', function(data) {
                console.log(typeof(data))
                comments = []
                for(d of data) {
                    createdAt = new Date(d.CreatedAt)
                    comments.push({createdAt: `${createdAt.toLocaleString()}`, body: d.Body})
                }
                app.$data.comments = comments
            })
        }

        var app = new Vue({
            el: '#app',
            data: {
                newComment: '',
                comments: []
            },
            methods: {
                submitComment: function() {
                console.log(app.newComment)
                $.post(
                    {
                        url: '/topics/16275216/comments',
                        data: JSON.stringify({Body: app.newComment}), 
                        contentType: 'application/json'
                    }, 
                    function() {
                        loadComments()
                        app.newComment = ''
                    })
                }
            }
        })

        loadComments() 
        </script>
    </div>
    </body>
</html>
