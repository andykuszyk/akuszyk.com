<!doctype html>
<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164357380-1"></script>
        <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'UA-164357380-1');
        </script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">        
        <title>A. Kuszyk | The Kingdom Of Tharg - Finding Home (12/13)</title>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <style>
            ul.timeline {
                list-style-type: none;
                position: relative;
            }
            ul.timeline:before {
                content: ' ';
                background: #d4d9df;
                display: inline-block;
                position: absolute;
                left: 29px;
                width: 2px;
                height: 100%;
                z-index: 400;
            }
            ul.timeline > li {
                margin: 20px 0;
                padding-left: 20px;
            }
            ul.timeline > li:before {
                content: ' ';
                background: white;
                display: inline-block;
                position: absolute;
                border-radius: 50%;
                border: 3px solid #22c0e8;
                left: 20px;
                width: 20px;
                height: 20px;
                z-index: 400;
            }
        </style>
    </head>
    <body>
    <div class="container">
        <div class="row">
            <div class="col-lg">
                <h1>The Kingdom Of Tharg</h1>
<h2>Finding Home</h2>
<h3>Part 12/13

            <hr>
            </div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm"></div>
            <div class="col-lg">
                <p>"There might as well be another gulf of ice and snow between it and us though, mightn't there? How on earth are we going to cross the open ocean - you've led us to a dead end!"</p>
<p>Aevum smiled.</p>
<p>"Far from it, friend. It is not an open ocean, but merely a straight of six or seven miles. And we will cross it in that, of course!"</p>
<p>He pointed out to their right in a direction Calir hadn't looked in yet, having been so fixated with the view ahead of them. A great galleon ship, bigger than any they had yet seen, was trapped in the edge of the ice and facing out to sea. The stern was frozen fast and perfectly preserved, much as the other ships they had seen had been. The ship leaned forward and the bow, however, was partially submerged in the gently sloshing water which flowed in and out of innumerable holes making the ship look more like a wreck at the front. Halfway along its length, where the ice ended and the ship entered the water there was almost a clean line where these two halves of the boat joined. To the rear, a frozen, preserved vessel with only ragged sails to show its age. To the front, a rotten and smashed wreck nearing collapse. Aevum saw Calir looking puzzled at this.</p>
<p>"We have reached the limit of the Dark Mirror's influence. Beyond the ice shelf, her reign over space and time is diminished and all things return to their natural way."</p>
<p>Calir turned his confused features to the mage.</p>
<p>"But how does this help us? Its a wreck that's half encased in ice and half ready to sink! Seven miles at sea in a wreck is still seven miles!"</p>
<p>"Yes, but this was the flag ship, friend Calir. The ancient armada of ships captured by the Dark Mirror all those ages ago was led by this vessel, which was caught at the last and who's escape was forever thwarted. This is the biggest, grandest and most well equipped ship of the fleet. Do you not think we might find something seaworthy onboard?"</p>
<p>"Ah! You mean like a landing craft or a lifeboat or something?"</p>
<p>"Indeed, yes. And, with luck, the dangers we encountered on the other ships will be less readily felt here. Let us investigate further and find a way to your home."</p>

                <hr>
                <p style="text-align:center">
                    | <a href="finding-home-1.html">1</a> | <a href="finding-home-2.html">2</a> | <a href="finding-home-3.html">3</a> | <a href="finding-home-4.html">4</a> | <a href="finding-home-5.html">5</a> | <a href="finding-home-6.html">6</a> | <a href="finding-home-7.html">7</a> | <a href="finding-home-8.html">8</a> | <a href="finding-home-9.html">9</a> | <a href="finding-home-10.html">10</a> | <a href="finding-home-11.html">11</a> | 12 | <a href="finding-home-13.html">13</a> |
                    <br>
                    <a href="/the-kingdom-of-tharg/the-dark-mirror-1.html">Previous Chapter</a> | <a href="/the-kingdom-of-tharg/home-time-1.html">Next Chapter</a>    
                </p>
            </div>
        </div>
        <div id="app" class="row">
            <div class="col-md-6 offset-md-3">
                <h4>Comments</h4>
                <ul class="timeline">
                    <li>
                        <form>
                            <div class="form-group">
                                <label for="commentInput">All comments are welcome, especially constructive ones!</label>
                                <textarea v-model="newComment" class="form-control" id="commentInput" rows="3"></textarea>
                                <button type="button" class="btn btn-primary" v-on:click="submitComment">Submit</button>
                            </div>
                        </form>
                    </li>
                    <li v-for="comment in comments">
                        <p><b>{{ comment.createdAt }}</b></p>
                        <p>{{ comment.body }}</p>
                    </li>
                </ul>
            </div>
        </div>
        <script>
        loadComments = function() {
            $.get('/topics/16275216/comments', function(data) {
                console.log(typeof(data))
                comments = []
                for(d of data) {
                    createdAt = new Date(d.CreatedAt)
                    comments.push({createdAt: `${createdAt.toLocaleString()}`, body: d.Body})
                }
                app.$data.comments = comments
            })
        }

        var app = new Vue({
            el: '#app',
            data: {
                newComment: '',
                comments: []
            },
            methods: {
                submitComment: function() {
                console.log(app.newComment)
                $.post(
                    {
                        url: '/topics/16275216/comments',
                        data: JSON.stringify({Body: app.newComment}), 
                        contentType: 'application/json'
                    }, 
                    function() {
                        loadComments()
                        app.newComment = ''
                    })
                }
            }
        })

        loadComments() 
        </script>
    </div>
    </body>
</html>
